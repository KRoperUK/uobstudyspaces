---
layout: default
title: Home
---

<div id="map" style="height: 35rem;">
  
</div>

<script>
  spaces = {{ site.data.studyspaces | jsonify }};

  const studySpaceIcon = L.icon({
    iconUrl: '/assets/studyspace.png',
    // shadowUrl: 'leaf-shadow.png',

    iconSize:     [32, 32], // size of the icon
    // shadowSize:   [50, 64], // size of the shadow
    iconAnchor:   [0, 0], // point of the icon which will correspond to marker's location
    // shadowAnchor: [4, 62],  // the same for the shadow
    popupAnchor:  [16, 0] // point from which the popup should open relative to the iconAnchor
  });

  var map = L.map('map').setView([52.45072845817002, -1.9305795352004038], 16);
  var OpenStreetMap_Mapnik = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  });

  for (campus in spaces) {
    for (building in spaces[campus]) {
      for (space in spaces[campus][building]) {
        var marker = L.marker(spaces[campus][building]["coordinates"], {icon: studySpaceIcon});
        marker.icon = studySpaceIcon;
        marker.bindPopup(`<a style="text-decoration: none;" href= ${spaces[campus][building].url}> ${spaces[campus][building].name} </a>`);
        marker.addTo(map);
      }
    }
  }

  
  OpenStreetMap_Mapnik.addTo(map);
  L.control.locate().addTo(map);
</script>


<!-- <div class="posts">
  {% for post in paginator.posts %}
  <article class="post">
    <h1 class="post-title">
      <a href="{{ post.url | relative_url }}">
        {{ post.title }}
      </a>
    </h1>

    <time datetime="{{ post.date | date_to_xmlschema }}" class="post-date">{{ post.date | date_to_string }}</time>

    {{ post.content }}
  </article>
  {% endfor %}
</div> -->

<!-- <div class="pagination">
  {% if paginator.next_page %}
    <a class="pagination-item older" href="{{ paginator.next_page_path | relative_url }}">Older</a>
  {% else %}
    <span class="pagination-item older">Older</span>
  {% endif %}
  {% if paginator.previous_page %}
    <a class="pagination-item newer" href="{{ paginator.previous_page_path | prepend: relative_url }}">Newer</a>
  {% else %}
    <span class="pagination-item newer">Newer</span>
  {% endif %}
</div> -->
